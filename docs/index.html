<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Species Agnostic AMR Predictions Using Deep Learning</title>
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@400;600;700&family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <style>

        /* Extra Mobile Optimizations */
        @media (max-width: 600px) {
          /* Make tables more compact */
          .data-table th,
          .data-table td {
            padding: 0.6rem;
            font-size: 0.8rem;
            white-space: normal;
            word-break: break-word;
          }
        
          /* Force scroll for very wide tables */
          .table-scrollable {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
          }
        
          /* Card-style tables for better readability */
          .data-table,
          .data-table thead,
          .data-table tbody,
          .data-table th,
          .data-table td,
          .data-table tr {
            display: block;
          }
        
          .data-table thead {
            display: none; /* Hide header row */
          }
        
          .data-table tr {
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 0.5rem;
            background: var(--card-bg);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
          }
        
          .data-table td {
            border: none;
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0.8rem;
            font-size: 0.85rem;
          }
        
          .data-table td::before {
            content: attr(data-label);
            font-weight: 600;
            color: var(--text-secondary);
            flex: 1;
            padding-right: 1rem;
            text-align: left;
          }
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-color: #1a4e8a;
            --primary-dark: #0f3461;
            --accent-color: #2e7d32;
            --warning-color: #d84315;
            --bg-color: #fafafa;
            --card-bg: #ffffff;
            --text-primary: #263238;
            --text-secondary: #546e7a;
            --border-color: #e0e0e0;
            --dna-color: rgba(26, 78, 138, 0.03);
            --salmonella-color: #8e24aa;
            --general-color: #1565c0;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.7;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Scientific Background Pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(26, 78, 138, 0.02) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(46, 125, 50, 0.02) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(26, 78, 138, 0.01) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        /* DNA Helix Animation */
        @keyframes dnaFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .dna-decoration {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            opacity: 0.03;
        }
        
        .dna-strand {
            position: absolute;
            width: 2px;
            height: 100px;
            background: linear-gradient(180deg, 
                var(--primary-color) 0%, 
                transparent 20%, 
                var(--primary-color) 40%, 
                transparent 60%, 
                var(--primary-color) 80%, 
                transparent 100%);
            animation: dnaFloat 20s ease-in-out infinite;
        }
        
        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
        }
        
        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-logo {
            font-family: 'Source Serif Pro', serif;
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary-dark);
            letter-spacing: -0.5px;
        }
        
        .nav-links {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }
        
        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            transition: color 0.2s ease;
            letter-spacing: 0.2px;
        }
        
        .nav-links a:hover {
            color: var(--primary-color);
        }
        
        /* Hero Section */
        .hero {
            margin-top: 60px;
            padding: 5rem 2rem 4rem;
            background: linear-gradient(180deg, 
                rgba(255,255,255,0) 0%, 
                rgba(26, 78, 138, 0.02) 100%);
            position: relative;
        }
        
        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .hero h1 {
            font-family: 'Source Serif Pro', serif;
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--primary-dark);
            line-height: 1.2;
            letter-spacing: -1px;
        }
        
        .hero-authors {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            font-style: italic;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .hero-affiliation {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .abstract-section {
            margin-top: 2rem;
        }
        
        .abstract-label {
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }
        
        .hero-description {
            font-size: 1.05rem;
            line-height: 1.8;
            color: var(--text-primary);
            max-width: 900px;
            text-align: justify;
        }
        
        .key-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
            padding: 2rem;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }
        
        /* Model Type Indicators */
        .key-metrics.salmonella {
            border-left: 5px solid var(--salmonella-color);
        }
        
        .key-metrics.general {
            border-left: 5px solid var(--general-color);
        }
        
        .metric-item {
            padding: 1rem;
            border-left: 3px solid var(--primary-color);
            padding-left: 1.5rem;
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-dark);
            font-family: 'Source Serif Pro', serif;
        }
        
        .metric-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Quick Access Links */
        .quick-access {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .access-button {
            display: inline-flex;
            align-items: center;
            padding: 1rem 2rem;
            background: var(--primary-color);
            color: white;
            text-decoration: none;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.2s ease;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .access-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .access-button.secondary {
            background: var(--accent-color);
        }

        .access-button.secondary:hover {
            background: #1b5e20;
        }

        .access-button.tertiary {
            background: white;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .access-button.tertiary:hover {
            background: var(--primary-color);
            color: white;
        }
        
        /* Section Styles */
        section {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .section-header {
            margin-bottom: 3rem;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 1rem;
        }
        
        .section-title {
            font-family: 'Source Serif Pro', serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-dark);
            letter-spacing: -0.5px;
        }
        
        .section-subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
            font-style: italic;
        }
        
        /* Model Type Sections */
        .model-section {
            margin: 4rem 0;
            padding: 2rem;
            border-radius: 8px;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
        }
        
        .model-section.salmonella {
            border-left: 5px solid var(--salmonella-color);
            background: linear-gradient(135deg, rgba(142, 36, 170, 0.02) 0%, rgba(255,255,255,1) 100%);
        }
        
        .model-section.general {
            border-left: 5px solid var(--general-color);
            background: linear-gradient(135deg, rgba(21, 101, 192, 0.02) 0%, rgba(255,255,255,1) 100%);
        }
        
        .model-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .model-title.salmonella {
            color: var(--salmonella-color);
        }
        
        .model-title.general {
            color: var(--general-color);
        }
        
        .model-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .model-badge.salmonella {
            background: rgba(142, 36, 170, 0.1);
            color: var(--salmonella-color);
        }
        
        .model-badge.general {
            background: rgba(21, 101, 192, 0.1);
            color: var(--general-color);
        }
        
        /* Scientific Figure Style */
        .figure-container {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            padding: 2.5rem;
            margin: 3rem 0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .figure-container h3 {
            color: var(--primary-dark);
            margin-bottom: 2rem;
            font-size: 1.3rem;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
        }
        
        .figure-caption {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 2px solid var(--border-color);
            line-height: 1.6;
            background: rgba(0,0,0,0.02);
            padding: 1.5rem;
            border-radius: 4px;
        }
        
        .figure-caption strong {
            color: var(--primary-dark);
        }
        
        /* Smart Table Styles */
        .table-wrapper {
            margin: 2rem 0;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .table-header {
            background: var(--primary-dark);
            color: white;
            padding: 1rem;
            font-weight: 600;
            font-size: 1rem;
        }
        
        .table-scrollable {
            overflow-x: auto;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--card-bg);
            min-width: 600px;
        }
        
        .data-table thead {
            background: var(--primary-color);
            color: white;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .data-table th {
            white-space: normal;
            /* word-break: break-word; */
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
            border-right: 1px solid rgba(255,255,255,0.2);
        }
        
        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            border-right: 1px solid var(--border-color);
            font-size: 0.95rem;
        }
        
        .data-table tbody tr:hover {
            background: rgba(26, 78, 138, 0.02);
        }
        
        .data-table tbody tr:nth-child(even) {
            background: rgba(0,0,0,0.01);
        }
        
        /* Transposed table for narrow tables */
        .transposed-table {
            display: grid;
            gap: 1rem;
        }
        
        .transposed-row {
            display: grid;
            grid-template-columns: 200px 1fr;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            align-items: center;
        }
        
        .transposed-row:nth-child(even) {
            background: rgba(0,0,0,0.01);
        }
        
        .transposed-label {
            font-weight: 600;
            color: var(--primary-dark);
            padding-right: 1rem;
            border-right: 2px solid var(--border-color);
        }
        
        .transposed-value {
            padding-left: 1rem;
        }
        
        /* Species Grid */
        .species-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .species-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            transition: box-shadow 0.2s ease;
            border-radius: 8px;
        }
        
        .species-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .species-name {
            font-style: italic;
            font-size: 1.1rem;
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        .species-stats {
            display: grid;
            gap: 0.5rem;
        }
        
        .species-stat {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        
        .species-stat label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .species-stat value {
            font-weight: 600;
            color: var(--text-primary);
        }
        
        /* Methods Section */
        .methodology-flow {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .method-step {
            background: var(--card-bg);
            padding: 2rem;
            border-top: 4px solid var(--primary-color);
            position: relative;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .method-step::after {
            content: '→';
            position: absolute;
            right: -1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            color: var(--border-color);
        }
        
        .method-step:last-child::after {
            display: none;
        }
        
        .method-step h4 {
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .method-step p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        /* Image Grid */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .image-item {
            text-align: center;
            background: var(--card-bg);
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .image-item img {
            max-width: 100%;
            height: auto;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            min-height: 300px;
            object-fit: contain;
            background: white;
        }
        
        .image-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }
        
        /* Results Section */
        .results-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .result-card {
            background: var(--card-bg);
            padding: 2rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .result-card h4 {
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        /* Publications Links */
        .publication-links {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }
        
        .pub-link {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background: var(--primary-dark);
            color: white;
            text-decoration: none;
            font-size: 0.9rem;
            transition: background 0.2s ease;
            border: 1px solid var(--primary-dark);
            border-radius: 4px;
        }
        
        .pub-link:hover {
            background: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .pub-link.secondary {
            background: white;
            color: var(--primary-dark);
            border: 1px solid var(--primary-dark);
        }
        
        .pub-link.secondary:hover {
            background: var(--bg-color);
        }
        
        /* Computational Resources */
        .resources-table {
            width: 100%;
            margin: 2rem 0;
        }
        
        .resources-table a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .resources-table a:hover {
            text-decoration: underline;
        }
        
        /* Team Section */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .team-member {
            background: var(--card-bg);
            padding: 2rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .member-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
        }
        
        .member-role {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }
        
        .member-bio {
            font-size: 0.9rem;
            line-height: 1.6;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
        }
        
        .member-links {
            display: flex;
            gap: 1rem;
        }
        
        .member-links a {
            color: var(--primary-color);
            text-decoration: none;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            border: 1px solid var(--primary-color);
            transition: all 0.2s ease;
            border-radius: 4px;
        }
        
        .member-links a:hover {
            background: var(--primary-color);
            color: white;
        }
        
        /* Footer */
        footer {
            background: var(--primary-dark);
            color: white;
            padding: 3rem 2rem;
            margin-top: 6rem;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        .footer-institution {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .footer-copyright {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 1rem;
        }
        
        .footer-links {
            margin-top: 2rem;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            margin: 0 1rem;
            opacity: 0.8;
            transition: opacity 0.2s ease;
        }
        
        .footer-links a:hover {
            opacity: 1;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .key-metrics {
                grid-template-columns: 1fr;
            }
            
            .methodology-flow {
                grid-template-columns: 1fr;
            }
            
            .method-step::after {
                display: none;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
            
            .image-grid {
                grid-template-columns: 1fr;
            }

            .quick-access {
                flex-direction: column;
            }
            
            .transposed-row {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .transposed-label {
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                padding-bottom: 0.5rem;
                margin-bottom: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="dna-decoration">
        <div class="dna-strand" style="left: 10%; top: 20%;"></div>
        <div class="dna-strand" style="left: 85%; top: 40%; animation-delay: 5s;"></div>
        <div class="dna-strand" style="left: 45%; top: 60%; animation-delay: 10s;"></div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="nav-logo">AMR Prediction Research</div>
            <ul class="nav-links">
                <li><a href="#abstract">Abstract</a></li>
                <li><a href="#methods">Methods</a></li>
                <li><a href="#results">Results</a></li>
                <li><a href="#data">Data</a></li>
                <li><a href="#resources">Resources</a></li>
                <li><a href="#team">Team</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="abstract">
        <div class="hero-content">
            <h1>Species-Agnostic Antimicrobial Resistance Prediction
                using Frequency Chaos Game Representation and
                Deep Convolutional Neural Networks</h1>
            <p class="hero-authors">Saifelden Mohamed, Salma Hatem</p>
            
            <div class="abstract-section">
                <div class="abstract-label">Abstract</div>
                <p class="hero-description">
                      Antimicrobial resistance (AMR) poses a critical threat to global
                      public health, necessitating rapid and accurate diagnostic methods. We
                      present a deep learning framework for predicting AMR directly from
                      bacterial whole genome sequences using Frequency Chaos Game
                      Representation (FCGR). Two models were developed: (1) a
                      <strong>species-specific model</strong> trained on
                      <em>Salmonella enterica</em> across 8 antibiotics
                      (Tetracycline, Ampicillin, Amoxicillin-Clavulanic acid, Cefoxitin,
                      Ceftiofur, Gentamicin, Ceftriaxone, Chloramphenicol), achieving an
                      overall AUC of <strong>85%</strong>; and (2) a
                      <strong>species-agnostic model</strong> trained on
                      <em>Staphylococcus aureus</em>, <em>Salmonella enterica</em>, and
                      <em>Escherichia coli</em> for Gentamicin and Tetracycline resistance,
                      achieving an overall AUC of <strong>84%</strong>. The latter model
                      operates without species labels, suggesting it learns
                      species-independent genomic biomarkers of resistance. Despite sparse
                      data for <em>E. coli</em> (85% missing labels for Gentamicin), the
                      model maintained strong predictive performance, highlighting its
                      robustness and generalization ability. These findings demonstrate the
                      potential of alignment-free, species-agnostic deep learning for rapid
                      AMR prediction in clinical and surveillance contexts.
                </p>
            </div>

            <!-- Quick Access Links -->
            <div class="quick-access">
                <a href="" class="access-button">Read Preprint (bioRxiv)</a>
                <a href="https://huggingface.co/spaces/fcgr-amr-project/fcgr-amr-project" class="access-button secondary">Try Interactive Demo</a>
                <a href="https://github.com/XHCFS/amr-fgcr-prediction-project" class="access-button tertiary">View Code & Data</a>
            </div>
            
            <div class="key-metrics salmonella" style="margin-bottom:2rem;">
              <h3 style="grid-column: 1 / -1; font-size:1.2rem; color:var(--salmonella-color); margin-bottom:1rem;">
                Salmonella-Specific Model
              </h3>
              <div class="metric-item">
                <div class="metric-value">5,084</div>
                <div class="metric-label">Genomes</div>
              </div>
              <div class="metric-item">
                <div class="metric-value">8</div>
                <div class="metric-label">Antibiotics Tested</div>
              </div>
              <div class="metric-item">
                <div class="metric-value">90%</div>
                <div class="metric-label">Overall AUC</div>
              </div>
            </div>
            
            <div class="key-metrics general">
              <h3 style="grid-column: 1 / -1; font-size:1.2rem; color:var(--general-color); margin-bottom:1rem;">
                Species-Agnostic Model
              </h3>
              <div class="metric-item">
                <div class="metric-value">10,079</div>
                <div class="metric-label">Genomes</div>
              </div>
              <div class="metric-item">
                <div class="metric-value">3</div>
                <div class="metric-label">Species (<em>S. aureus</em>, <em>S. enterica</em>, <em>E. coli</em>)</div>
              </div>
              <div class="metric-item">
                <div class="metric-value">2</div>
                <div class="metric-label">Antibiotics Tested (Gentamicin, Tetracycline)</div>
              </div>
              <div class="metric-item">
                <div class="metric-value">84%</div>
                <div class="metric-label">Overall AUC</div>
              </div>
            </div>
        </div>
    </section>

    <!-- Methods Section -->
    <section id="methods">
      <div class="section-header">
        <h2 class="section-title">Materials and Methods</h2>
        <p class="section-subtitle">
          Comprehensive pipeline from genomic data to resistance predictions
        </p>
      </div>
    
      <!-- Pipeline overview -->
      <div class="methodology-flow">
        <div class="method-step">
          <h4>1. Data Collection</h4>
          <p>
            Whole genome sequences were curated from NCBI and PATRIC databases with
            validated phenotypic resistance profiles. The final dataset included
            10,079 genomes across three species (<em>S. aureus</em>,
            <em>S. enterica</em>, <em>E. coli</em>).
          </p>
        </div>
        <div class="method-step">
          <h4>2. FCGR Encoding</h4>
          <p>
            Genomes were transformed into 256×256 grayscale images using 8-mer
            frequency analysis. This alignment-free encoding captures both local
            sequence motifs and global compositional biases.
          </p>
        </div>
        <div class="method-step">
          <h4>3. Model Training</h4>
          <p>
            A modified ResNet18 architecture was trained with homology-aware
            splitting and 5-fold cross-validation. Two models were developed: (i) a
            Salmonella-specific model across 8 antibiotics, and (ii) a
            species-agnostic model across 3 species for Gentamicin and Tetracycline.
          </p>
        </div>
        <div class="method-step">
          <h4>4. Validation</h4>
          <p>
            Evaluation metrics included AUC, MCC, and masked accuracy to account for
            incomplete resistance profiles. Confusion matrices and per-class metrics
            were generated for both models.
          </p>
        </div>
      </div>
    
      <!-- FCGR Samples -->
      <div class="figure-container">
        <h3>Frequency Chaos Game Representation (FCGR) Examples</h3>
        <div class="image-grid" id="fcgr-images"></div>
        <div class="figure-caption">
          <strong>Figure 1.</strong> Representative FCGR images for the three
          bacterial species showing distinct genomic signatures. Each image represents an 8-mer frequency pattern from whole genome sequences converted to 256×256 pixel grayscale images.
        </div>
      </div>
    
      <!-- Exploratory Data Analysis Section -->
      <div class="model-section general">
        <div class="model-title general">
          <span>General Model - Exploratory Data Analysis</span>
          <span class="model-badge general">Species-Agnostic</span>
        </div>
        <div id="general-model-eda-tables"></div>
      </div>
    
      <div class="model-section salmonella">
        <div class="model-title salmonella">
          <span>Salmonella Model - Exploratory Data Analysis</span>
          <span class="model-badge salmonella">Species-Specific</span>
        </div>
        <div id="salmonella-model-eda-tables"></div>
      </div>
    
      <!-- Correlation Matrices -->
      <div class="figure-container">
        <h3>Resistance Profile Correlation Matrices</h3>
        <div class="image-grid" id="eda-images"></div>
        <div class="figure-caption">
          <strong>Figure 2.</strong> Correlation matrices of resistance profiles for
          each species and overall dataset. These matrices reveal patterns of co-resistance and species-specific resistance profiles that inform model training strategies.
        </div>
      </div>
    </section>
    
    <!-- Results Section -->
    <section id="results">
      <div class="section-header">
        <h2 class="section-title">Results and Discussion</h2>
        <p class="section-subtitle">
          Performance evaluation across species and antibiotics
        </p>
      </div>
    
      <!-- Overview cards -->
      <div class="results-grid">
        <div class="result-card">
          <h4>Salmonella-Specific Model</h4>
          <p>
            The Salmonella-only model was trained on 8 antibiotics and achieved an
            overall AUC of ~90%. Performance varied across antibiotics but remained
            robust despite dataset imbalance.
          </p>
        </div>
        <div class="result-card">
          <h4>Species-Agnostic Model</h4>
          <p>
            The general model trained on 10,079 genomes across 3 species achieved an
            overall AUC of 84%. Despite sparse data for <em>E. coli</em> (85% null
            labels for Gentamicin), the model maintained strong predictive
            performance, suggesting it learns cross-species biomarkers of
            resistance.
          </p>
        </div>
      </div>
    
      <!-- Clinical implications -->
      <div class="figure-container" style="margin-top: 2rem">
        <h3>Clinical Implications</h3>
        <p style="line-height: 1.8; margin-top: 1.5rem">
          Our deep learning approach demonstrates significant clinical potential for
          rapid AMR screening. The model's high sensitivity ensures minimal false
          negatives—critical for preventing treatment failures—while maintaining
          specificity to reduce unnecessary broad-spectrum antibiotic use. Key
          clinical advantages include:
        </p>
        <ul style="margin-top: 1rem; padding-left: 2rem; line-height: 1.8">
          <li>Reduction in diagnostic time from days/weeks to hours</li>
          <li>Independence from existing resistance gene databases</li>
          <li>Potential for novel resistance mechanism discovery</li>
          <li>Scalable deployment across diverse clinical settings</li>
        </ul>
      </div>
    
      <!-- General Model Results -->
      <div class="model-section general">
        <div class="model-title general">
          <span>General Model Results</span>
          <span class="model-badge general">Species-Agnostic</span>
        </div>
        <div id="general-model-results-tables"></div>
      </div>
    
      <!-- Salmonella Model Results -->
      <div class="model-section salmonella">
        <div class="model-title salmonella">
          <span>Salmonella Model Results</span>
          <span class="model-badge salmonella">Species-Specific</span>
        </div>
        <div id="salmonella-model-results-tables"></div>
      </div>
    
      <!-- Results Figures -->
      <div class="figure-container">
        <h3>Performance Visualization and Confusion Matrices</h3>
        <div class="image-grid" id="results-images"></div>
        <div class="figure-caption">
          <strong>Figure 3.</strong> Model performance visualization including label coverage distributions and confusion matrices for both general and Salmonella-specific models. Coverage plots show the distribution of resistance labels across the dataset, while confusion matrices demonstrate classification performance.
        </div>
      </div>
    </section>

    <!-- Data Section -->
    <section id="data">
        <div class="section-header">
            <h2 class="section-title">Dataset and Data Sources</h2>
            <p class="section-subtitle">Comprehensive genomic and phenotypic data compilation</p>
        </div>

        <div class="figure-container">
            <h3>Data Sources and Project Information</h3>
            <div class="table-wrapper">
                <div class="table-header">Primary Data Sources</div>
                <div class="table-scrollable">
                    <table class="data-table resources-table">
                        <thead>
                            <tr>
                                <th>Species</th>
                                <th>Primary Source</th>
                                <th>Project Number(s)</th>
                                <th>Publication</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><em>Staphylococcus aureus</em></td>
                                <td>mSystems Journal</td>
                                <td>Multiple datasets</td>
                                <td><a href="https://doi.org/10.1128/msystems.01185-20">DOI: 10.1128/msystems.01185-20</a></td>
                            </tr>
                            <tr>
                                <td><em>Salmonella enterica</em></td>
                                <td>JCM Journal</td>
                                <td>PRJNA292661, PRJNA292666</td>
                                <td><a href="https://doi.org/10.1128/jcm.01260-18">DOI: 10.1128/jcm.01260-18</a></td>
                            </tr>
                            <tr>
                                <td><em>Escherichia coli</em></td>
                                <td>mSystems Journal</td>
                                <td>Multiple datasets</td>
                                <td><a href="https://doi.org/10.1128/msystems.00913-20">DOI: 10.1128/msystems.00913-20</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="figure-caption">
                <strong>Table 1.</strong> Primary data sources for each of the three bacterial species included in the final study including original publications and NCBI project identifiers. All datasets were obtained from publicly available repositories and integrated using standardized phenotypic resistance classifications.
            </div>
        </div>

        <div class="species-grid" style="margin-top: 3rem;">
            <div class="species-card">
                <div class="species-name">Data Processing Pipeline</div>
                <div class="species-stats">
                    <div class="species-stat">
                        <label>Encoding Method:</label>
                        <value>FCGR (8-mer, 256×256)</value>
                    </div>
                    <div class="species-stat">
                        <label>Homology Clustering:</label>
                        <value>95% similarity threshold</value>
                    </div>
                    <div class="species-stat">
                        <label>Cross-Validation:</label>
                        <value>5-fold GroupKFold</value>
                    </div>
                    <div class="species-stat">
                        <label>Train/Val/Test Split:</label>
                        <value>Roughly 80% / 10% / 10% (depending on cluster splitting)</value>
                    </div>
                </div>
            </div>
            <div class="species-card">
            <div class="species-name">Quality Control Metrics</div>
            <div class="species-stats">
              <div class="species-stat">
                <label>Species Included:</label>
                <value>Salmonella enterica, Staphylococcus aureus, Escherichia coli</value>
              </div>
              <div class="species-stat">
                <label>Null Score Threshold:</label>
                <value>0.8</value>
              </div>
              <div class="species-stat">
                <label>Drug Selection Criteria:</label>
                <value>Drugs retained if null proportion ≤ threshold and above 0.1 R+I/S Ratio</value>
              </div>
              <div class="species-stat">
                <label>Output Table:</label>
                <value>{species}_Model_Table.csv</value>
              </div>
              <div class="species-stat">
                <label>Missing Data Handling:</label>
                <value>Rows dropped if all selected drugs are null</value>
              </div>
            </div>
            </div>
        </div>

        <div class="figure-container" style="margin-top: 2rem;">
          <h3>Antibiotic Coverage</h3>
          <p style="line-height: 1.8; margin: 1rem 0;">
            Our final dataset encompasses 8 unique antibiotics across multiple
            therapeutic classes, providing comprehensive coverage of clinically
            relevant antimicrobial agents. The selection includes both first-line and
            reserve antibiotics, ensuring clinical applicability across diverse
            treatment scenarios.
          </p>
          <div
            style="
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 1rem;
              margin-top: 1.5rem;
            "
          >
            <div
              style="
                padding: 1rem;
                background: var(--bg-color);
                border-left: 3px solid var(--accent-color);
              "
            >
              <strong>Tetracyclines</strong><br />
              <small>Tetracycline</small>
            </div>
            <div
              style="
                padding: 1rem;
                background: var(--bg-color);
                border-left: 3px solid var(--accent-color);
              "
            >
              <strong>Penicillins</strong><br />
              <small>Ampicillin</small>
            </div>
            <div
              style="
                padding: 1rem;
                background: var(--bg-color);
                border-left: 3px solid var(--accent-color);
              "
            >
              <strong>Beta-lactam / Beta-lactamase Inhibitors</strong><br />
              <small>Amoxicillin-Clavulanic Acid</small>
            </div>
            <div
              style="
                padding: 1rem;
                background: var(--bg-color);
                border-left: 3px solid var(--accent-color);
              "
            >
              <strong>Cephalosporins</strong><br />
              <small>Cefotaxime, Cefepime, Ceftazidime</small>
            </div>
            <div
              style="
                padding: 1rem;
                background: var(--bg-color);
                border-left: 3px solid var(--accent-color);
              "
            >
              <strong>Aminoglycosides</strong><br />
              <small>Gentamicin</small>
            </div>
            <div
              style="
                padding: 1rem;
                background: var(--bg-color);
                border-left: 3px solid var(--accent-color);
              "
            >
              <strong>Amphenicols</strong><br />
              <small>Chloramphenicol</small>
            </div>
          </div>
        </div>
    </section>

    <!-- Resources Section -->
    <section id="resources">
        <div class="section-header">
            <h2 class="section-title">Computational Resources</h2>
            <p class="section-subtitle">Code, datasets, models, and interactive demonstrations</p>
        </div>

        <!-- Featured Links -->
        <div class="species-grid" style="margin-bottom: 3rem;">
            <div class="species-card">
                <div class="species-name">Research Paper</div>
                <div class="species-stats">
                    <div class="species-stat">
                        <label>Preprint Server:</label>
                        <value>bioRxiv</value>
                    </div>
                    <div class="species-stat">
                        <label>Status:</label>
                        <value>Published</value>
                    </div>
                    <div class="species-stat">
                        <label>DOI:</label>
                        <value>[TO BE ADDED]</value>
                    </div>
                </div>
                <div class="publication-links" style="margin-top: 1rem;">
                    <a href="#" class="pub-link">Read on bioRxiv</a>
                    <a href="#" class="pub-link secondary">Download PDF</a>
                </div>
            </div>
            <div class="species-card">
                <div class="species-name">Interactive Demo</div>
                <div class="species-stats">
                    <div class="species-stat">
                        <label>Platform:</label>
                        <value>Hugging Face Spaces</value>
                    </div>
                    <div class="species-stat">
                        <label>Models Available:</label>
                        <value>3 Species + General</value>
                    </div>
                    <div class="species-stat">
                        <label>Upload Format:</label>
                        <value>FASTA files</value>
                    </div>
                </div>
                <div class="publication-links" style="margin-top: 1rem;">
                    <a href="#" class="pub-link">Try Demo</a>
                    <a href="#" class="pub-link secondary">View on HF</a>
                </div>
            </div>
        </div>

        <div class="figure-container">
            <h3>Available Computational Resources</h3>
            <div class="table-wrapper">
                <div class="table-header">Code Repositories and Data Downloads</div>
                <div class="table-scrollable">
                    <table class="data-table resources-table">
                        <thead>
                            <tr>
                                <th>Resource Type</th>
                                <th>Description</th>
                                <th>Access Link</th>
                                <th>Format</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Dataset Download</td>
                                <td>Automated scripts for downloading WGS data from NCBI/PATRIC</td>
                                <td><a href="https://github.com/XHCFS/amr-fgcr-prediction-project/blob/main/Notebooks/Downloading_Dataset.ipynb">GitHub</a></td>
                                <td>Jupyter Notebook</td>
                            </tr>
                            <tr>
                                <td>ABRicate Prediction Generation</td>
                                <td>Script for generating ABRicate predictions and storing them</td>
                                <td><a href="https://github.com/XHCFS/amr-fgcr-prediction-project/blob/main/Notebooks/ABRicate_Prediction_Generation.ipynb">GitHub</a></td>
                                <td>Jupyter Notebook</td>
                            </tr>
                            <tr>
                                <td>ABRicate Metrics Generation</td>
                                <td>Script for evaluating ABRicate results using the same metrics</td>
                                <td><a href="https://github.com/XHCFS/amr-fgcr-prediction-project/blob/main/Notebooks/ABRicate_Metrics_Generation.ipynb">GitHub</a></td>
                                <td>Jupyter Notebook</td>
                            </tr>
                            <tr>
                                <td>Master Table Creation</td>
                                <td>Integration of phenotypic data with genomic metadata</td>
                                <td><a href="https://github.com/XHCFS/amr-fgcr-prediction-project/blob/main/Notebooks/Master_Table.ipynb">GitHub</a></td>
                                <td>Jupyter Notebook</td>
                            </tr>
                            <tr>
                                <td>FCGR Encoding</td>
                                <td>Frequency Chaos Game Representation image generation</td>
                                <td><a href="https://github.com/XHCFS/amr-fgcr-prediction-project/blob/main/Notebooks/FCGR_Encoding.ipynb">GitHub</a></td>
                                <td>Jupyter Notebook</td>
                            </tr>
                            <tr>
                                <td>Drug Selection & Filtering</td>
                                <td>Quality-based drug selection and dataset filtering</td>
                                <td><a href="https://github.com/XHCFS/amr-fgcr-prediction-project/blob/main/Notebooks/Drug_Selection_%26_Filtering.ipynb">GitHub</a></td>
                                <td>Jupyter Notebook</td>
                            </tr>
                            <tr>
                                <td>Homology-Aware Splitting</td>
                                <td>Sequence similarity clustering for data leakage prevention</td>
                                <td><a href="https://github.com/XHCFS/amr-fgcr-prediction-project/blob/main/Notebooks/Homology_Aware_Clusters.ipynb">GitHub</a></td>
                                <td>Jupyter Notebook</td>
                            </tr>
                            <tr>
                                <td>Model Training Pipeline</td>
                                <td>PyTorch/FastAI implementation with cross-validation</td>
                                <td><a href="https://github.com/XHCFS/amr-fgcr-prediction-project/blob/main/Notebooks/Model_Training_Pipeline.ipynb">GitHub</a></td>
                                <td>Jupyter Notebook</td>
                            </tr>
                            <tr>
                                <td>Complete Dataset Archive</td>
                                <td>Processed datasets, models, and supplementary materials</td>
                                <td><a href="https://drive.google.com/drive/folders/13LGqe__ULhjG0hZmpgxz8WqE0fNXsVNQ?usp=drive_link">Google Drive</a></td>
                                <td>Archive</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="figure-caption">
                <strong>Table 2.</strong> Comprehensive list of computational resources supporting reproducible research. All notebooks include detailed documentation and can be executed in Google Colab environment.
            </div>
        </div>

        <div class="methodology-flow" style="margin-top: 3rem;">
            <div class="method-step">
                <h4>Software Dependencies</h4>
                <p><strong>Core Libraries:</strong> PyTorch, FastAI, Scikit-learn, Pandas, NumPy</p>
                <p><strong>Bioinformatics:</strong> Sourmash, BioPython, ABRicate</p>
                <p><strong>Visualization:</strong> Matplotlib, Seaborn, Plotly</p>
            </div>
            <div class="method-step">
                <h4>Hardware Requirements</h4>
                <p><strong>Training:</strong> Google Colab T4 GPU, 2vCPU @ 2.2GHz </p>
                <p><strong>Memory:</strong> 13GB RAM </p>
                <p><strong>Storage:</strong> 100GB </p>
            </div>
            <div class="method-step">
                <h4>Performance Metrics</h4>
                <p><strong>Masked Evaluation:</strong> Balanced Accuracy, Precision, Recall, F1-score</p>
                <p><strong>Advanced Metrics:</strong> AUC, MCC, Jaccard Index</p>
                <p><strong>Cross-Validation:</strong> 5-fold GroupKFold with homology aware splitting, preformed via sourmash</p>
            </div>
        </div>

        <div class="publication-links">
            <a href="https://github.com/XHCFS/amr-fgcr-prediction-project" class="pub-link">View Code Repository</a>
            <a href="" class="pub-link secondary">Download Processed Data</a>
        </div>
    </section>

    <!-- Team Section -->
    <section id="team">
        <div class="section-header">
            <h2 class="section-title">Research Team</h2>
                <p class="section-subtitle">
                  Collaboration between Communications and Information Engineering majors with extensive coursework in machine learning and deep learning, combined with an interest in bioinformatics. Additional technical consultancy was provided by a colleague from the Biomedical Engineering department.
                </p>        
        </div>

        <div class="team-grid">
            <div class="team-member">
                <div class="member-name">Saifelden Mohamed</div>
                <div class="member-role">ROLE</div>
                <div class="member-bio">
                </div>
                <div class="member-links">
                    <a href="#">LinkedIn</a>
                    <a href="#">ORCID</a>
                </div>
            </div>
            <div class="team-member">
                <div class="member-name">Salma Hatem</div>
                <div class="member-role">Role</div>
                <div class="member-bio">
                    
                </div>
                <div class="member-links">
                    <a href="#">LinkedIn</a>
                    <a href="#">GitHub</a>
                </div>
            </div>
        </div>

        <div class="figure-container" style="margin-top: 3rem;">
            <h3>Acknowledgments</h3>
            <p style="line-height: 1.8;">
                ADD HERE
            </p>
            
            <div style="margin-top: 2rem; padding: 1.5rem; background: var(--bg-color); border-left: 4px solid var(--primary-color);">
                <h4 style="margin-bottom: 1rem; color: var(--primary-dark);">Research Impact</h4>
                <p style="line-height: 1.8; margin-bottom: 1rem;">
                    This work contributes to the global effort to combat antimicrobial resistance through innovative computational approaches. By making our methods and data freely available, we aim to accelerate research in this critical area of public health.
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="footer-content">
        <div class="footer-institution">Independent Research Project</div>
        <p>Conducted by <strong>Saifelden Mohamed</strong> and <strong>Salma Hatem</strong></p>
        <div class="footer-links">
          <a href="#">Contact Research Team</a>
          <a href="#">Research Ethics</a>
          <a href="#">Data Sharing Policy</a>
          <a href="https://github.com/your-repo">GitHub Repository</a>
        </div>
        <div class="footer-copyright">
          © 2025 Saifelden Mohamed &amp; Salma Hatem.  
          This research is conducted under open science principles.  
          All datasets and code are made freely available for scientific and educational purposes.
        </div>
      </div>
    </footer>

    <!-- JavaScript for Dynamic Content Loading -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script>
      // Smart table rendering function that decides between regular, transposed, or card layout
      function renderSmartTable(file, containerId, captionText, tableTitle) {
        Papa.parse(file, {
          download: true,
          header: true,
          complete: function (results) {
            if (results.data.length === 0) return;

            results.data = results.data.map(row => {
            const newRow = {};
            for (const key in row) {
              const value = row[key];
              const num = parseFloat(value);

              // Check if value is a number and not an integer
              if (!isNaN(num) && value.trim() !== "" && !Number.isInteger(num)) {
                newRow[key] = num.toFixed(3); // round float to 3 decimals
              } else {
                newRow[key] = value; // keep integers and strings unchanged
              }
            }
            return newRow;
          });
            
            const container = document.getElementById(containerId);
            const wrapper = document.createElement("div");
            wrapper.classList.add("figure-container");
            
            // Add table title if provided
            if (tableTitle) {
              const titleElement = document.createElement("h4");
              titleElement.textContent = tableTitle;
              titleElement.style.marginBottom = "1rem";
              titleElement.style.color = "var(--primary-dark)";
              wrapper.appendChild(titleElement);
            }
            
            const numCols = results.meta.fields.length;
            const numRows = results.data.filter(row => Object.values(row).some(v => v !== "")).length;
            
            // Special handling for specific table types
            if (file.includes("general_model_overall_null_percentages.csv")) {
              renderInfoBoxes(results.data, wrapper);
            } else if (numCols <= 3 && numRows > 3) {
              // Transpose narrow tables
              //renderTransposedTable(results, wrapper);
              renderRegularTable(results, wrapper);
            } else if (numCols > 6 || (numCols * numRows > 50)) {
              // Scrollable for large tables
              renderScrollableTable(results, wrapper);
            } else {
              // Regular table for moderate size
              renderRegularTable(results, wrapper);
            }
            
            // Add caption
            const caption = document.createElement("div");
            caption.classList.add("figure-caption");
            caption.innerHTML = `<strong>${captionText}</strong>`;
            wrapper.appendChild(caption);
            
            container.appendChild(wrapper);
          }
        });
      }
      
      function renderInfoBoxes(data, container) {
        const wrapper = document.createElement("div");
        wrapper.style.display = "grid";
        wrapper.style.gridTemplateColumns = "repeat(auto-fit, minmax(200px, 1fr))";
        wrapper.style.gap = "1rem";
        wrapper.style.margin = "1rem 0";
        
        data.forEach((row) => {
          Object.keys(row).forEach((drug) => {
            if (drug && row[drug] && row[drug] !== "0" && row[drug] !== "") {
              const card = document.createElement("div");
              card.style.padding = "1rem";
              card.style.background = "var(--bg-color)";
              card.style.borderLeft = "4px solid var(--primary-color)";
              card.style.borderRadius = "4px";
              card.innerHTML = `<strong>${drug}:</strong> ${row[drug]}% nulls`;
              wrapper.appendChild(card);
            }
          });
        });
        container.appendChild(wrapper);
      }
      
      function renderTransposedTable(results, container) {
        const transposed = document.createElement("div");
        transposed.classList.add("transposed-table");
        
        results.data.forEach((row, index) => {
          if (Object.values(row).some(v => v !== "")) {
            results.meta.fields.forEach((field) => {
              if (row[field] !== "") {
                const transposedRow = document.createElement("div");
                transposedRow.classList.add("transposed-row");
                
                const label = document.createElement("div");
                label.classList.add("transposed-label");
                label.textContent = field;
                
                const value = document.createElement("div");
                value.classList.add("transposed-value");
                value.textContent = row[field];
                
                transposedRow.appendChild(label);
                transposedRow.appendChild(value);
                transposed.appendChild(transposedRow);
              }
            });
          }
        });
        container.appendChild(transposed);
      }
      
      function renderScrollableTable(results, container) {
        const tableWrapper = document.createElement("div");
        tableWrapper.classList.add("table-wrapper");
        
        const scrollable = document.createElement("div");
        scrollable.classList.add("table-scrollable");
        
        const table = document.createElement("table");
        table.classList.add("data-table");
        
        // Header
        const thead = document.createElement("thead");
        const headerRow = document.createElement("tr");
        results.meta.fields.forEach((field) => {
          const th = document.createElement("th");
          th.textContent = field;
          headerRow.appendChild(th);
        });
        thead.appendChild(headerRow);
        table.appendChild(thead);
        
        // Body
        const tbody = document.createElement("tbody");
        results.data.forEach((row) => {
          if (Object.values(row).some(v => v !== "")) {
            const tr = document.createElement("tr");
            results.meta.fields.forEach((field) => {
              const td = document.createElement("td");
              td.textContent = row[field];
              tr.appendChild(td);
            });
            tbody.appendChild(tr);
          }
        });
        table.appendChild(tbody);
        
        scrollable.appendChild(table);
        tableWrapper.appendChild(scrollable);
        container.appendChild(tableWrapper);
      }
      
      function renderRegularTable(results, container) {
        const table = document.createElement("table");
        table.classList.add("data-table");
        table.style.margin = "1rem 0";
        
        // Header
        const thead = document.createElement("thead");
        const headerRow = document.createElement("tr");
        results.meta.fields.forEach((field) => {
          const th = document.createElement("th");
          th.textContent = field;
          headerRow.appendChild(th);
        });
        thead.appendChild(headerRow);
        table.appendChild(thead);
        
        // Body
        const tbody = document.createElement("tbody");
        results.data.forEach((row) => {
          if (Object.values(row).some(v => v !== "")) {
            const tr = document.createElement("tr");
            results.meta.fields.forEach((field) => {
              const td = document.createElement("td");
              td.textContent = row[field];
              tr.appendChild(td);
            });
            tbody.appendChild(tr);
          }
        });
        table.appendChild(tbody);
        container.appendChild(table);
      }

      // === EDA TABLES - Methods Section ===
      const generalEDAFiles = {
        "eda_results/general_model_label_ratio_per_species.csv": "Label ratio per species",
        "eda_results/general_model_null_percentages_per_species.csv": "Null percentages per species", 
        //"eda_results/general_model_overall_label_ratio.csv": "Overall label ratio",
        //"eda_results/general_model_overall_null_percentages.csv": "Overall null percentages",
        "eda_results/general_model_species_distribution.csv": "Species distribution"
      };

      const salmonellaEDAFiles = {
        "eda_results/salmonella_only_label_ratio_per_drug.csv": "Label ratio per antibiotic",
        "eda_results/salmonella_only_null_percentages_per_drug.csv": "Null percentages per antibiotic",
        //"eda_results/salmonella_only_overall_null_percentage.csv": "Overall null percentage summary"
      };

      // Render EDA tables in Methods section
      Object.keys(generalEDAFiles).forEach((file) => {
        renderSmartTable(file, "general-model-eda-tables", generalEDAFiles[file], generalEDAFiles[file]);
      });

      Object.keys(salmonellaEDAFiles).forEach((file) => {
        renderSmartTable(file, "salmonella-model-eda-tables", salmonellaEDAFiles[file], salmonellaEDAFiles[file]);
      });

      // === RESULTS TABLES - Results Section ===
      const generalResultsFiles = [
        ["Results/General Model/Test_Metrics.csv", "Test set overall metrics"],
        ["Results/General Model/Test_Metrics_per_class.csv", "Test set metrics per antibiotic class"],
        ["Results/General Model/Test_Metrics_per_species.csv", "Test set metrics per species"],
        ["Results/General Model/Test_Metrics_per_class_Salmonella_Enterica.csv", "Test set metrics per antibiotic class for Salmonella Enterica samples"],
        ["Results/General Model/Test_Metrics_per_class_Staphylococcus_Aureus.csv", "Test set metrics per antibiotic class for Staphylococcus Aureus samples"],
        ["Results/General Model/Test_Metrics_per_class_Escherichia_Coli.csv", "Test set metrics per antibiotic class for Escherichia Coli samples"],
        ["Results/General Model/Cross_Validation_Metrics_Mean_per_class.csv", "Cross-validation mean metrics per class"],
        ["Results/General Model/Cross_Validation_Metrics_SD_per_class.csv", "Cross-validation standard deviation per class"],
        ["Results/General Model/Cross_Validation_Metrics_summary.csv", "Cross-validation summary metrics"]
      ];

      const salmonellaResultsFiles = [
        ["Results/Salmonella Enterica/8-mer/Test_Metrics.csv", "Test set overall metrics"],
        ["Results/Salmonella Enterica/8-mer/Test_Metrics_per_class.csv", "Test set metrics per antibiotic class"],
        ["Results/Salmonella Enterica/8-mer/Cross_Validation_Metrics_Mean_per_class.csv", "Cross-validation mean metrics per class"],
        ["Results/Salmonella Enterica/8-mer/Cross_Validation_Metrics_SD_per_class.csv", "Cross-validation standard deviation per class"],
        ["Results/Salmonella Enterica/8-mer/Cross_Validation_Metrics_summary.csv", "Cross-validation summary metrics"]
      ];

      // Render Results tables in Results section
      generalResultsFiles.forEach(([file, description]) => {
        renderSmartTable(file, "general-model-results-tables", description, description);
      });

      salmonellaResultsFiles.forEach(([file, description]) => {
        renderSmartTable(file, "salmonella-model-results-tables", description, description);
      });

      // === FCGR SAMPLE IMAGES ===
      const fcgrImages = [
        { file: "FCGR_Samples/Staphylococcus aureus.png", label: "Staphylococcus aureus FCGR pattern" },
        { file: "FCGR_Samples/Salmonella enterica.png", label: "Salmonella enterica FCGR pattern" },
        { file: "FCGR_Samples/Escherichia coli.png", label: "Escherichia coli FCGR pattern" }
      ];
      
      const fcgrContainer = document.getElementById("fcgr-images");
      fcgrImages.forEach((img) => {
        const div = document.createElement("div");
        div.classList.add("image-item");
        div.innerHTML = `
          <img src="${img.file}" alt="${img.label}" />
          <p class="image-label">${img.label}</p>
        `;
        fcgrContainer.appendChild(div);
      });

      // === CORRELATION MATRICES ===
      const correlationImages = [
        { 
          file: "eda_results/general_model_Staphylococcus_aureus_correlation_matrix.png", 
          label: "S. aureus resistance profile correlations" 
        },
        { 
          file: "eda_results/general_model_Salmonella_enterica_correlation_matrix.png", 
          label: "S. enterica resistance profile correlations" 
        },
        { 
          file: "eda_results/general_model_Escherichia_coli_correlation_matrix.png", 
          label: "E. coli resistance profile correlations" 
        },
        { 
          file: "eda_results/general_model_overall_correlation_matrix.png", 
          label: "Overall dataset resistance correlations" 
        },
        { 
          file: "eda_results/salmonella_only_correlation_matrix.png", 
          label: "Salmonella-specific model correlations" 
        }
      ];
      
      const correlationContainer = document.getElementById("eda-images");
      correlationImages.forEach((img) => {
        const div = document.createElement("div");
        div.classList.add("image-item");
        div.innerHTML = `
          <img src="${img.file}" alt="${img.label}" />
          <p class="image-label">${img.label}</p>
        `;
        correlationContainer.appendChild(div);
      });

      // === RESULTS FIGURES ===
      const resultsFigures = [
        { 
          file: "Results/General Model/Label_Coverage.png", 
          label: "General Model - Label coverage distribution" 
        },
        { 
          file: "Results/Salmonella Enterica/8-mer/Label_Coverage.png", 
          label: "Salmonella Model - Label coverage distribution" 
        },
        { 
          file: "Results/General Model/Confusion Matrices/Cross_Validation_Metrics_Mean_per_class.png", 
          label: "General Model - Cross-validation confusion matrix" 
        },
        { 
          file: "Results/Salmonella Enterica/8-mer/Confusion Matrices/Cross_Validation_Metrics_Mean_per_class.png", 
          label: "Salmonella Model - Cross-validation confusion matrix" 
        }
      ];
      
      const resultsContainer = document.getElementById("results-images");
      resultsFigures.forEach((img) => {
        const div = document.createElement("div");
        div.classList.add("image-item");
        div.innerHTML = `
          <img src="${img.file}" alt="${img.label}" />
          <p class="image-label">${img.label}</p>
        `;
        resultsContainer.appendChild(div);
      });

      // Error handling for missing images
      document.addEventListener('DOMContentLoaded', function() {
        const images = document.querySelectorAll('img');
        images.forEach(img => {
          img.onerror = function() {
            this.style.display = 'none';
            const parent = this.parentElement;
            if (parent && parent.classList.contains('image-item')) {
              const placeholder = document.createElement('div');
              placeholder.style.cssText = `
                width: 100%;
                height: 300px;
                background: linear-gradient(45deg, #f0f0f0 25%, #e0e0e0 25%, #e0e0e0 50%, #f0f0f0 50%, #f0f0f0 75%, #e0e0e0 75%, #e0e0e0);
                background-size: 20px 20px;
                border: 1px solid var(--border-color);
                display: flex;
                align-items: center;
                justify-content: center;
                color: var(--text-secondary);
                font-style: italic;
              `;
              placeholder.textContent = 'Image not available';
              parent.insertBefore(placeholder, this);
            }
          };
        });
      });
    </script>
</body>
</html>
